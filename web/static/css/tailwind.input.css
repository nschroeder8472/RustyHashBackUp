@tailwind base;
@tailwind components;
@tailwind utilities;

/* Component Classes using @apply */
@layer components {
  /* Card styles */
  .card {
    @apply bg-dark-surface border border-dark-border rounded-lg p-6;
  }

  .card-sm {
    @apply bg-dark-surface border border-dark-border rounded-lg p-4;
  }

  /* Button styles */
  .btn {
    @apply px-4 py-3 rounded-lg flex items-center justify-center space-x-2 transition-colors font-medium;
  }

  .btn-primary {
    @apply btn bg-blue-600 hover:bg-blue-700 text-white shadow-lg hover:shadow-xl;
  }

  .btn-secondary {
    @apply btn bg-purple-600 hover:bg-purple-700 text-white;
  }

  .btn-danger {
    @apply btn bg-red-600 hover:bg-red-700 text-white;
  }

  .btn-neutral {
    @apply btn bg-dark-border hover:bg-gray-700 text-white;
  }

  .btn-sm {
    @apply px-3 py-1 rounded-lg transition-colors text-sm font-medium;
  }

  .btn-sm-primary {
    @apply btn-sm bg-purple-600 hover:bg-purple-700 text-white;
  }

  .btn-sm-secondary {
    @apply btn-sm bg-blue-600 hover:bg-blue-700 text-white;
  }

  /* Input styles */
  .input-field {
    @apply w-full px-4 py-2 bg-dark-bg border border-dark-border rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500;
  }

  .input-field-sm {
    @apply px-3 py-2 bg-dark-surface border border-dark-border rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-purple-500;
  }

  /* Navigation icon button */
  .nav-icon {
    @apply w-10 h-10 flex items-center justify-center rounded-lg hover:bg-dark-border transition-colors;
  }

  .nav-icon-active {
    @apply nav-icon bg-blue-600 text-white;
  }

  .nav-icon-inactive {
    @apply nav-icon text-gray-400;
  }

  /* Section headings */
  .section-heading {
    @apply text-lg font-semibold text-white mb-4 flex items-center;
  }

  .section-icon {
    @apply w-5 h-5 mr-2;
  }

  /* Status indicators */
  .status-success {
    @apply p-4 bg-green-900/20 border border-green-700 rounded-lg;
  }

  .status-error {
    @apply p-4 bg-red-900/20 border border-red-700 rounded-lg;
  }

  .status-warning {
    @apply p-4 bg-yellow-900/20 border border-yellow-700 rounded-lg;
  }

  .status-info {
    @apply p-4 bg-blue-900/20 border border-blue-700 rounded-lg;
  }

  /* Toggle switch (checkbox styled as toggle) */
  /* Note: peer classes cannot be used with @apply, so these remain in HTML */
  .toggle-switch {
    @apply sr-only;
  }

  /* Icon button (delete/remove) */
  .icon-btn-danger {
    @apply text-red-400 hover:text-red-300 transition-colors;
  }

  /* Code/monospace text blocks */
  .code-block {
    @apply px-3 py-2 bg-dark-bg rounded border border-dark-border font-mono text-sm;
  }

  /* Toast notification styles (for consistency) */
  .toast {
    @apply border rounded-lg p-4 shadow-lg min-w-[300px] max-w-md transform transition-all duration-300 ease-in-out;
  }

  .toast-success {
    @apply toast bg-green-500/20 border-green-500;
  }

  .toast-error {
    @apply toast bg-red-500/20 border-red-500;
  }

  .toast-info {
    @apply toast bg-blue-500/20 border-blue-500;
  }

  /* Progress bar */
  .progress-bar-container {
    @apply w-full bg-gray-700 rounded-full h-2;
  }

  .progress-bar {
    @apply h-2 rounded-full transition-all duration-500;
  }

  .progress-bar-primary {
    @apply progress-bar bg-purple-500;
  }

  .progress-bar-success {
    @apply progress-bar bg-green-500;
  }
}

/* Custom animations and additional styles */
@layer utilities {
  /* HTMX Indicator - Hidden by default, shown during requests */
  .htmx-indicator {
    display: none;
  }
  .htmx-request .htmx-indicator {
    display: inline-block;
  }
  .htmx-request.htmx-indicator {
    display: inline-block;
  }

  /* Custom scrollbar for dark theme */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  ::-webkit-scrollbar-track {
    background: #1e1e1e;
  }
  ::-webkit-scrollbar-thumb {
    background: #3d3d3d;
    border-radius: 4px;
  }
  ::-webkit-scrollbar-thumb:hover {
    background: #4d4d4d;
  }

  /* Smooth transitions */
  * {
    transition-property: background-color, border-color, color, fill, stroke;
    transition-duration: 150ms;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Focus states */
  input:focus,
  select:focus,
  textarea:focus,
  button:focus {
    outline: none;
    box-shadow: 0 0 0 2px rgb(59 130 246 / 0.5);
  }

  /* Toast notification animation */
  @keyframes slideInRight {
    from {
      transform: translateX(100%);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }

  @keyframes slideOutRight {
    from {
      transform: translateX(0);
      opacity: 1;
    }
    to {
      transform: translateX(100%);
      opacity: 0;
    }
  }

  .toast-enter {
    animation: slideInRight 0.3s ease-out;
  }

  .toast-exit {
    animation: slideOutRight 0.3s ease-in;
  }

  /* Pulse animation for status indicators */
  @keyframes pulse {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.5;
    }
  }

  .pulse {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  /* Loading spinner */
  @keyframes spin {
    to {
      transform: rotate(360deg);
    }
  }

  .animate-spin {
    animation: spin 1s linear infinite;
  }

  /* Card hover effect */
  .card-hover {
    transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
  }

  .card-hover:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  }

  /* Fade in animation for content */
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .fade-in {
    animation: fadeIn 0.4s ease-out;
  }

  /* Skeleton loading placeholder */
  @keyframes skeleton-loading {
    0% {
      background-position: 200% 0;
    }
    100% {
      background-position: -200% 0;
    }
  }

  .skeleton {
    background: linear-gradient(
      90deg,
      #2d2d2d 25%,
      #3d3d3d 50%,
      #2d2d2d 75%
    );
    background-size: 200% 100%;
    animation: skeleton-loading 1.5s infinite;
  }
}
